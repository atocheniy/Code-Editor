<Window x:Class="Code_Editor.MainWindow"
        xmlns="http://schemas.microsoft.com/winfx/2006/xaml/presentation"
        xmlns:x="http://schemas.microsoft.com/winfx/2006/xaml"
        xmlns:d="http://schemas.microsoft.com/expression/blend/2008"
        xmlns:mc="http://schemas.openxmlformats.org/markup-compatibility/2006"
        xmlns:wv2="clr-namespace:Microsoft.Web.WebView2.Wpf;assembly=Microsoft.Web.WebView2.Wpf"
        xmlns:fw="clr-namespace:SourceChord.FluentWPF;assembly=FluentWPF"
        xmlns:local="clr-namespace:Code_Editor"
        xmlns:avalonEdit="http://icsharpcode.net/sharpdevelop/avalonedit"
        mc:Ignorable="d"
                               Title="Main" Height="945" Width="1400" WindowStyle="None" AllowsTransparency="True" Background="Transparent" BorderThickness="0" WindowStartupLocation="CenterScreen" MinWidth="1058" MinHeight="697" Icon="Images/other/CodeEditor.png" Closing="Window_Closing">

    <WindowChrome.WindowChrome>
        <WindowChrome ResizeBorderThickness="8" 
                      CaptionHeight="12" 
                      CornerRadius="0" 
                      GlassFrameThickness="0" 
                      UseAeroCaptionButtons="False"/>
    </WindowChrome.WindowChrome>


    <Window.Resources>
        <Style x:Key="FocusVisual">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle Margin="2" StrokeDashArray="1 2" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" SnapsToDevicePixels="true" StrokeThickness="1"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <SolidColorBrush x:Key="Button.Static.Background" Color="#FFDDDDDD"/>
        <SolidColorBrush x:Key="Button.Static.Border" Color="#FF707070"/>
        <SolidColorBrush x:Key="Button.MouseOver.Background" Color="#FFBEE6FD"/>
        <SolidColorBrush x:Key="Button.MouseOver.Border" Color="#FF3C7FB1"/>
        <SolidColorBrush x:Key="Button.Pressed.Background" Color="#FFC4E5F6"/>
        <SolidColorBrush x:Key="Button.Pressed.Border" Color="#FF2C628B"/>
        <SolidColorBrush x:Key="Button.Disabled.Background" Color="#FFF4F4F4"/>
        <SolidColorBrush x:Key="Button.Disabled.Border" Color="#FFADB2B5"/>
        <SolidColorBrush x:Key="Button.Disabled.Foreground" Color="#FF838383"/>
        <Style x:Key="ButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisual}"/>
            <Setter Property="Background" Value="{StaticResource Button.Static.Background}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Button.Static.Border}"/>
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="border" CornerRadius="5" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" SnapsToDevicePixels="true" Margin="26,80,-26,-80">
                            <ContentPresenter x:Name="contentPresenter" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsDefaulted" Value="true">
                                <Setter Property="BorderBrush" TargetName="border" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.MouseOver.Background}"/>
                                <Setter Property="BorderBrush" TargetName="border" Value="{StaticResource Button.MouseOver.Border}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="true">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.Pressed.Background}"/>
                                <Setter Property="BorderBrush" TargetName="border" Value="{StaticResource Button.Pressed.Border}"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.Disabled.Background}"/>
                                <Setter Property="BorderBrush" TargetName="border" Value="{StaticResource Button.Disabled.Border}"/>
                                <Setter Property="TextElement.Foreground" TargetName="contentPresenter" Value="{StaticResource Button.Disabled.Foreground}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="FocusVisual1">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle Margin="2" StrokeDashArray="1 2" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" SnapsToDevicePixels="true" StrokeThickness="1"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <SolidColorBrush x:Key="Button.Static.Background1" Color="#FFDDDDDD"/>
        <SolidColorBrush x:Key="Button.Static.Border1" Color="#FF707070"/>
        <SolidColorBrush x:Key="Button.MouseOver.Background1" Color="#FF404040"/>
        <SolidColorBrush x:Key="Button.Pressed.Background1" Color="#FF373737"/>
        <SolidColorBrush x:Key="Button.Disabled.Background1" Color="#FFF4F4F4"/>
        <SolidColorBrush x:Key="Button.Disabled.Border1" Color="#FFADB2B5"/>
        <SolidColorBrush x:Key="Button.Disabled.Foreground1" Color="#FF838383"/>
        <Style x:Key="ConfirmButtonStyle" TargetType="{x:Type Button}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisual1}"/>
            <Setter Property="Background" Value="{StaticResource Button.Static.Background1}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Button.Static.Border1}"/>
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="border" CornerRadius="20" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" SnapsToDevicePixels="true">
                            <ContentPresenter x:Name="contentPresenter" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsDefaulted" Value="true">
                                <Setter Property="BorderBrush" TargetName="border" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.MouseOver.Background1}"/>

                            </Trigger>
                            <Trigger Property="IsPressed" Value="true">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.Pressed.Background1}"/>

                            </Trigger>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.Disabled.Background1}"/>
                                <Setter Property="BorderBrush" TargetName="border" Value="{StaticResource Button.Disabled.Border1}"/>
                                <Setter Property="TextElement.Foreground" TargetName="contentPresenter" Value="{StaticResource Button.Disabled.Foreground1}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>



        <Style x:Key="FluentToggle" TargetType="CheckBox">
            <Setter Property="Foreground" Value="{DynamicResource SystemControlForegroundBaseHighBrush}"/>
            <Setter Property="FontSize" Value="20"/>
            <Setter Property="FontFamily" Value="Segoe UI Variable Text Semibold"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="CheckBox">
                        <StackPanel Orientation="Horizontal">
                            <Border x:Name="backgroundBorder" Width="49" Height="25" CornerRadius="12"
                            BorderThickness="2" BorderBrush="#8A8A8A"
                            Background="Transparent" VerticalAlignment="Center">
                                <Ellipse x:Name="thumb" Fill="#767676" Width="15" Height="15"
                                 HorizontalAlignment="Left" Margin="3,0,0,0"/>
                            </Border>
                            <ContentPresenter Content="{TemplateBinding Content}" VerticalAlignment="Center" Margin="12,0,0,0"/>
                        </StackPanel>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="backgroundBorder" Property="BorderBrush" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
                                <Setter TargetName="backgroundBorder" Property="Background" Value="{DynamicResource SystemControlHighlightAccentBrush}"/>
                                <Setter TargetName="thumb" Property="Fill" Value="White"/>
                                <Trigger.EnterActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ThicknessAnimation Storyboard.TargetName="thumb" Storyboard.TargetProperty="Margin" 
                                                        To="27,0,0,0" Duration="0:0:0.15"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.EnterActions>
                                <Trigger.ExitActions>
                                    <BeginStoryboard>
                                        <Storyboard>
                                            <ThicknessAnimation Storyboard.TargetName="thumb" Storyboard.TargetProperty="Margin" 
                                                        To="3,0,0,0" Duration="0:0:0.15"/>
                                        </Storyboard>
                                    </BeginStoryboard>
                                </Trigger.ExitActions>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>







        <Style x:Key="FocusVisual3">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle Margin="2" StrokeDashArray="1 2" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" SnapsToDevicePixels="true" StrokeThickness="1"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <SolidColorBrush x:Key="ListBorder" Color="#828790"/>



        <Style TargetType="{x:Type DataGridColumnHeader}">
            <Setter Property="Background" Value="#FF28282A"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Margin" Value="10,0,0,10"/>
        </Style>

        <Style TargetType="{x:Type DataGridRowHeader}">
            <Setter Property="Background" Value="#FF28282A"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="Padding" Value="5"/>
        </Style>


        <Style TargetType="DataGridCellsPresenter">
            <Setter Property="BorderBrush" Value="#FF28282A" />
            <Setter Property="BorderThickness" Value="0" />
        </Style>




        <Style x:Key="DataGridStyleDark" TargetType="{x:Type DataGrid}">
            <Setter Property="Background" Value="#FF28282A"/>
            <Setter Property="Foreground" Value="#DDD"/>
            <Setter Property="BorderBrush" Value="#444"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="RowBackground" Value="#FF28282A"/>
            <Setter Property="AlternatingRowBackground" Value="#2A2A2A"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type DataGrid}">
                        <Border Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}">
                            <ScrollViewer x:Name="DG_ScrollViewer" Focusable="false">
                                <ScrollViewer.Template>
                                    <ControlTemplate TargetType="{x:Type ScrollViewer}">
                                        <Grid>
                                            <Grid.RowDefinitions>
                                                <RowDefinition Height="Auto"/>
                                                <RowDefinition Height="*"/>
                                            </Grid.RowDefinitions>
                                            <DataGridColumnHeadersPresenter x:Name="PART_ColumnHeadersPresenter" Grid.Row="0" Background="#444" Foreground="#EEE"/>
                                            <ScrollContentPresenter x:Name="PART_ScrollContentPresenter" Grid.Row="1" CanContentScroll="{TemplateBinding CanContentScroll}"/>
                                        </Grid>
                                    </ControlTemplate>
                                </ScrollViewer.Template>
                                <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                            </ScrollViewer>
                        </Border>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>

            <Setter Property="Margin" Value="2"/>
            <Setter Property="Padding" Value="8,4"/>
        </Style>




        <Style x:Key="TreeViewStyle1" TargetType="{x:Type TreeView}">
            <Setter Property="Background" Value="{DynamicResource {x:Static SystemColors.WindowBrushKey}}"/>
            <Setter Property="BorderBrush" Value="{DynamicResource ListBorder}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="Padding" Value="1"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ScrollViewer.PanningMode" Value="Both"/>
            <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TreeView}">
                        <Border x:Name="Bd" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" SnapsToDevicePixels="true">
                            <ScrollViewer Style="{DynamicResource ScrollViewerStyle1}" x:Name="_tv_scrollviewer_" Background="{TemplateBinding Background}" CanContentScroll="false" Focusable="false" HorizontalScrollBarVisibility="{TemplateBinding ScrollViewer.HorizontalScrollBarVisibility}" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalScrollBarVisibility="{TemplateBinding ScrollViewer.VerticalScrollBarVisibility}">
                                <ItemsPresenter/>
                            </ScrollViewer>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Background" TargetName="Bd" Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}"/>
                            </Trigger>
                            <Trigger Property="VirtualizingPanel.IsVirtualizing" Value="true">
                                <Setter Property="CanContentScroll" TargetName="_tv_scrollviewer_" Value="true"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="VirtualizingPanel.IsVirtualizing" Value="true">
                    <Setter Property="ItemsPanel">
                        <Setter.Value>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel/>
                            </ItemsPanelTemplate>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>


        <SolidColorBrush x:Key="TreeViewItem.TreeArrow.Static.Stroke" Color="#FF818181"/>
        <SolidColorBrush x:Key="TreeViewItem.TreeArrow.Static.Fill" Color="#FFFFFFFF"/>
        <SolidColorBrush x:Key="TreeViewItem.TreeArrow.MouseOver.Stroke" Color="#FF27C7F7"/>
        <SolidColorBrush x:Key="TreeViewItem.TreeArrow.MouseOver.Fill" Color="#FFCCEEFB"/>
        <SolidColorBrush x:Key="TreeViewItem.TreeArrow.Static.Checked.Stroke" Color="#FF262626"/>
        <SolidColorBrush x:Key="TreeViewItem.TreeArrow.Static.Checked.Fill" Color="#FF595959"/>
        <SolidColorBrush x:Key="TreeViewItem.TreeArrow.MouseOver.Checked.Stroke" Color="#FF1CC4F7"/>
        <SolidColorBrush x:Key="TreeViewItem.TreeArrow.MouseOver.Checked.Fill" Color="#FF82DFFB"/>
        <PathGeometry x:Key="TreeArrow" Figures="M0,0 L0,6 L6,0 z"/>
        <Style x:Key="ExpandCollapseToggleStyle" TargetType="{x:Type ToggleButton}">
            <Setter Property="Focusable" Value="False"/>
            <Setter Property="Width" Value="30"/>
            <Setter Property="Height" Value="30"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ToggleButton}">
                        <Border Background="Transparent" Height="25" Width="20">
                            <Image x:Name="FolderIcon" VerticalAlignment="Top" Source="Images/icons/folder_negate.png" />
                            <!--<Path x:Name="ExpandPath" Data="{StaticResource TreeArrow}" Fill="{StaticResource TreeViewItem.TreeArrow.Static.Fill}" Stroke="{StaticResource TreeViewItem.TreeArrow.Static.Stroke}">
            <Path.RenderTransform>
                <RotateTransform Angle="135" CenterY="3" CenterX="3"/>
            </Path.RenderTransform>
        </Path>-->
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsChecked" Value="True">
                                <Setter TargetName="FolderIcon" Property="Source" Value="Images/icons/folder_open_negate.png"/>
                                <!--<Setter Property="RenderTransform" TargetName="ExpandPath">
                <Setter.Value>
                    <RotateTransform Angle="180" CenterY="3" CenterX="3"/>
                </Setter.Value>
            </Setter>-->
                                <!--<Setter Property="Fill" TargetName="ExpandPath" Value="{StaticResource TreeViewItem.TreeArrow.Static.Checked.Fill}"/>
            <Setter Property="Stroke" TargetName="ExpandPath" Value="{StaticResource TreeViewItem.TreeArrow.Static.Checked.Stroke}"/>-->
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="True">
                                <!--<Setter Property="Stroke" TargetName="ExpandPath" Value="{StaticResource TreeViewItem.TreeArrow.MouseOver.Stroke}"/>
            <Setter Property="Fill" TargetName="ExpandPath" Value="{StaticResource TreeViewItem.TreeArrow.MouseOver.Fill}"/>-->
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsMouseOver" Value="True"/>
                                    <Condition Property="IsChecked" Value="True"/>
                                </MultiTrigger.Conditions>
                                <!--<Setter Property="Stroke" TargetName="ExpandPath" Value="{StaticResource TreeViewItem.TreeArrow.MouseOver.Checked.Stroke}"/>
            <Setter Property="Fill" TargetName="ExpandPath" Value="{StaticResource TreeViewItem.TreeArrow.MouseOver.Checked.Fill}"/>-->
                            </MultiTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="TreeViewItemFocusVisual">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="TreeViewItemStyle2" TargetType="{x:Type TreeViewItem}">
            <Setter Property="Background" Value="Transparent"/>
            <Setter Property="HorizontalContentAlignment" Value="{Binding HorizontalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"/>
            <Setter Property="VerticalContentAlignment" Value="{Binding VerticalContentAlignment, RelativeSource={RelativeSource AncestorType={x:Type ItemsControl}}}"/>
            <Setter Property="Padding" Value="1,0,0,0"/>
            <Setter Property="Foreground" Value="White"/>
            <Setter Property="FocusVisualStyle" Value="{StaticResource TreeViewItemFocusVisual}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TreeViewItem}">
                        <Grid>
                            <Grid.ColumnDefinitions>
                                <ColumnDefinition MinWidth="19" Width="Auto"/>
                                <ColumnDefinition Width="Auto"/>
                                <ColumnDefinition Width="*"/>
                            </Grid.ColumnDefinitions>
                            <Grid.RowDefinitions>
                                <RowDefinition Height="Auto"/>
                                <RowDefinition/>
                            </Grid.RowDefinitions>

                            <!--<Line x:Name="ConnectionLine" 
      Margin="10,0,0,0" 
      Stroke="Gray" 
      StrokeThickness="1"
      X1="0" X2="0" Y1="0" 
      Y2="{Binding ActualHeight, ElementName=ItemsHost}"
      HorizontalAlignment="Left"
      VerticalAlignment="Top"
      Grid.Row="1" 
      Grid.Column="0" 
      Visibility="Collapsed"/>!-->

                            <ToggleButton x:Name="Expander" ClickMode="Press" IsChecked="{Binding IsExpanded, RelativeSource={RelativeSource Mode=TemplatedParent}}" Style="{StaticResource ExpandCollapseToggleStyle}"/>

                            <Image x:Name="NodeIcon"
       Grid.Column="1"
       Width="16"
       Height="16"
       VerticalAlignment="Center"
       HorizontalAlignment="Left"
       Margin="2"
       Source="Images/icons/file_negate.png" />

                            <Border x:Name="Bd" HorizontalAlignment="Left" CornerRadius="8" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Grid.Column="2" Padding="{TemplateBinding Padding}" SnapsToDevicePixels="true">
                                <ContentPresenter x:Name="PART_Header" ContentSource="Header" Margin="5, 0, 5, 0" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                            </Border>
                            <ItemsPresenter x:Name="ItemsHost" Grid.Column="1" Grid.ColumnSpan="2" Grid.Row="1"/>
                        </Grid>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsExpanded" Value="false">
                                <Setter Property="Visibility" TargetName="ItemsHost" Value="Collapsed"/>
                                <!--<Setter Property="Visibility" TargetName="ConnectionLine" Value="Collapsed"/>-->
                            </Trigger>
                            <Trigger Property="IsExpanded" Value="True">
                                <!--<Setter Property="Visibility" TargetName="ConnectionLine" Value="Visible"/>-->
                            </Trigger>
                            <Trigger Property="HasItems" Value="false">
                                <Setter Property="Visibility" TargetName="Expander" Value="Hidden"/>
                                <Setter Property="Margin" TargetName="NodeIcon" Value="-25, 0, 0, 0"/>
                                <!--<Setter Property="Visibility" TargetName="ConnectionLine" Value="Collapsed"/>-->
                            </Trigger>
                            <Trigger Property="HasItems" Value="true">
                                <Setter Property="Visibility" TargetName="NodeIcon" Value="Collapsed"/>
                                <Setter Property="Margin" TargetName="ItemsHost" Value="-10, 0, 0, 0"/>
                            </Trigger>
                            <Trigger Property="IsSelected" Value="true">
                                <Setter Property="Background" TargetName="Bd" Value="{DynamicResource {x:Static SystemColors.HighlightBrushKey}}"/>
                                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.HighlightTextBrushKey}}"/>
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsSelected" Value="true"/>
                                    <Condition Property="IsSelectionActive" Value="false"/>
                                </MultiTrigger.Conditions>
                                <Setter Property="Background" TargetName="Bd" Value="{DynamicResource {x:Static SystemColors.InactiveSelectionHighlightBrushKey}}"/>
                                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.InactiveSelectionHighlightTextBrushKey}}"/>
                            </MultiTrigger>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.GrayTextBrushKey}}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <Trigger Property="VirtualizingPanel.IsVirtualizing" Value="true">
                    <Setter Property="ItemsPanel">
                        <Setter.Value>
                            <ItemsPanelTemplate>
                                <VirtualizingStackPanel/>
                            </ItemsPanelTemplate>
                        </Setter.Value>
                    </Setter>
                </Trigger>
            </Style.Triggers>
        </Style>





        <SolidColorBrush x:Key="TextBox.Static.Border" Color="#FFABAdB3"/>
        <SolidColorBrush x:Key="TextBox.MouseOver.Border" Color="#FFABAdB3"/>
        <SolidColorBrush x:Key="TextBox.Focus.Border" Color="#FFABAdB3"/>
        <Style x:Key="TextBoxStyle1" TargetType="{x:Type TextBox}">
            <Setter Property="Background" Value="{DynamicResource {x:Static SystemColors.WindowBrushKey}}"/>
            <Setter Property="BorderBrush" Value="{StaticResource TextBox.Static.Border}"/>
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
            <Setter Property="BorderThickness" Value="2"/>
            <Setter Property="KeyboardNavigation.TabNavigation" Value="None"/>
            <Setter Property="HorizontalContentAlignment" Value="Left"/>
            <Setter Property="FocusVisualStyle" Value="{x:Null}"/>
            <Setter Property="AllowDrop" Value="true"/>
            <Setter Property="ScrollViewer.PanningMode" Value="VerticalFirst"/>
            <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type TextBox}">
                        <Border x:Name="border" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" SnapsToDevicePixels="True" Margin="0,-9, -9, -9">
                            <ScrollViewer x:Name="PART_ContentHost" Focusable="false" HorizontalScrollBarVisibility="Hidden" VerticalScrollBarVisibility="Hidden"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Opacity" TargetName="border" Value="0.56"/>
                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="BorderBrush" TargetName="border" Value="{StaticResource TextBox.MouseOver.Border}"/>
                            </Trigger>
                            <Trigger Property="IsKeyboardFocused" Value="true">
                                <Setter Property="BorderBrush" TargetName="border" Value="{StaticResource TextBox.Focus.Border}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>
                <MultiTrigger>
                    <MultiTrigger.Conditions>
                        <Condition Property="IsInactiveSelectionHighlightEnabled" Value="true"/>
                        <Condition Property="IsSelectionActive" Value="false"/>
                    </MultiTrigger.Conditions>
                    <Setter Property="SelectionBrush" Value="{DynamicResource {x:Static SystemColors.InactiveSelectionHighlightBrushKey}}"/>
                </MultiTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="FocusVisual5">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle Margin="2" StrokeDashArray="1 2" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" SnapsToDevicePixels="true" StrokeThickness="1"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Style x:Key="FocusVisual4">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle Margin="2" StrokeDashArray="1 2" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" SnapsToDevicePixels="true" StrokeThickness="1"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <SolidColorBrush x:Key="Button.Static.Background4" Color="#FFDDDDDD"/>
        <SolidColorBrush x:Key="Button.MouseOver.Background4" Color="#FFF35A5F"/>
        <SolidColorBrush x:Key="Button.Pressed.Background4" Color="#FFD6464B"/>
        <SolidColorBrush x:Key="Button.Disabled.Background4" Color="#FFF4F4F4"/>
        <SolidColorBrush x:Key="Button.Disabled.Foreground4" Color="#FF838383"/>
        <Style x:Key="ButtonStyleExit" TargetType="{x:Type Button}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisual4}"/>
            <Setter Property="Background" Value="{StaticResource Button.Static.Background4}"/>
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="border" CornerRadius="20" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" SnapsToDevicePixels="true">
                            <ContentPresenter x:Name="contentPresenter" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.MouseOver.Background4}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="true">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.Pressed.Background4}"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.Disabled.Background4}"/>
                                <Setter Property="TextElement.Foreground" TargetName="contentPresenter" Value="{StaticResource Button.Disabled.Foreground4}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="FocusVisual6">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle Margin="2" StrokeDashArray="1 2" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" SnapsToDevicePixels="true" StrokeThickness="1"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <SolidColorBrush x:Key="Button.Static.Background5" Color="#FFDDDDDD"/>
        <SolidColorBrush x:Key="Button.MouseOver.Background5" Color="#FF40FD51"/>
        <SolidColorBrush x:Key="Button.Pressed.Background5" Color="#FF2EC83C"/>
        <SolidColorBrush x:Key="Button.Disabled.Background5" Color="#FFF4F4F4"/>
        <SolidColorBrush x:Key="Button.Disabled.Foreground5" Color="#FF838383"/>
        <Style x:Key="ButtonStyleMax" TargetType="{x:Type Button}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisual6}"/>
            <Setter Property="Background" Value="{StaticResource Button.Static.Background5}"/>
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="border" CornerRadius="20" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" SnapsToDevicePixels="true">
                            <ContentPresenter x:Name="contentPresenter" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.MouseOver.Background5}"/>
                            </Trigger>
                            <Trigger Property="IsPressed" Value="true">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.Pressed.Background5}"/>
                            </Trigger>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.Disabled.Background5}"/>
                                <Setter Property="TextElement.Foreground" TargetName="contentPresenter" Value="{StaticResource Button.Disabled.Foreground5}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <SolidColorBrush x:Key="ListBox.Static.Background" Color="#FF2F2F2F"/>
        <SolidColorBrush x:Key="ListBox.Static.Border" Color="#FFABADB3"/>
        <SolidColorBrush x:Key="ListBox.Disabled.Background" Color="#FFFFFFFF"/>
        <SolidColorBrush x:Key="ListBox.Disabled.Border" Color="#FFD9D9D9"/>
        <Style x:Key="ListBoxStyle1" TargetType="{x:Type ListBox}">
            <Setter Property="Background" Value="{StaticResource ListBox.Static.Background}"/>
            <Setter Property="BorderBrush" Value="{StaticResource ListBox.Static.Border}"/>
            <Setter Property="BorderThickness" Value="0"/>
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
            <Setter Property="ScrollViewer.HorizontalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ScrollViewer.VerticalScrollBarVisibility" Value="Auto"/>
            <Setter Property="ScrollViewer.CanContentScroll" Value="true"/>
            <Setter Property="ScrollViewer.PanningMode" Value="Both"/>
            <Setter Property="Stylus.IsFlicksEnabled" Value="False"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type ListBox}">
                        <Border x:Name="Bd" CornerRadius="15" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" Padding="1" SnapsToDevicePixels="true">
                            <ScrollViewer Focusable="false" Padding="{TemplateBinding Padding}">
                                <ItemsPresenter SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}"/>
                            </ScrollViewer>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Background" TargetName="Bd" Value="{StaticResource ListBox.Disabled.Background}"/>
                                <Setter Property="BorderBrush" TargetName="Bd" Value="{StaticResource ListBox.Disabled.Border}"/>
                            </Trigger>
                            <MultiTrigger>
                                <MultiTrigger.Conditions>
                                    <Condition Property="IsGrouping" Value="true"/>
                                    <Condition Property="VirtualizingPanel.IsVirtualizingWhenGrouping" Value="false"/>
                                </MultiTrigger.Conditions>
                                <Setter Property="ScrollViewer.CanContentScroll" Value="false"/>
                            </MultiTrigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

        <Storyboard x:Key="CollapseSideBarStoryboard">
            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="LeftColumn"
                                       Storyboard.TargetProperty="Width">
                <DiscreteObjectKeyFrame KeyTime="0:0:0">
                    <DiscreteObjectKeyFrame.Value>
                        <GridLength>0</GridLength>
                    </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
            </ObjectAnimationUsingKeyFrames>
        </Storyboard>

        <Storyboard x:Key="ExpandSideBarStoryboard">
            <ObjectAnimationUsingKeyFrames Storyboard.TargetName="LeftColumn"
                                       Storyboard.TargetProperty="Width">
                <DiscreteObjectKeyFrame KeyTime="0:0:0">
                    <DiscreteObjectKeyFrame.Value>
                        <GridLength>300</GridLength>
                    </DiscreteObjectKeyFrame.Value>
                </DiscreteObjectKeyFrame>
            </ObjectAnimationUsingKeyFrames>
        </Storyboard>
        <Style x:Key="FocusVisual2">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle Margin="2" StrokeDashArray="1 2" Stroke="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}" SnapsToDevicePixels="true" StrokeThickness="1"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <SolidColorBrush x:Key="Button.Static.Background2" Color="#FFDDDDDD"/>
        <SolidColorBrush x:Key="Button.MouseOver.Background2" Color="#7F191919"/>
        <SolidColorBrush x:Key="Button.Pressed.Background2" Color="#7F131313"/>
        <SolidColorBrush x:Key="Button.Disabled.Background2" Color="#FFF4F4F4"/>
        <SolidColorBrush x:Key="Button.Disabled.Foreground2" Color="#FF838383"/>
        <Style x:Key="NavigationButtonsStyle" TargetType="{x:Type Button}">
            <Setter Property="FocusVisualStyle" Value="{StaticResource FocusVisual2}"/>
            <Setter Property="Background" Value="{StaticResource Button.Static.Background2}"/>
            <Setter Property="BorderBrush" Value="{StaticResource Button.Static.Border2}"/>
            <Setter Property="Foreground" Value="{DynamicResource {x:Static SystemColors.ControlTextBrushKey}}"/>
            <Setter Property="BorderThickness" Value="1"/>
            <Setter Property="HorizontalContentAlignment" Value="Center"/>
            <Setter Property="VerticalContentAlignment" Value="Center"/>
            <Setter Property="Padding" Value="1"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type Button}">
                        <Border x:Name="border" CornerRadius="10" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}" SnapsToDevicePixels="true">
                            <ContentPresenter x:Name="contentPresenter" Focusable="False" HorizontalAlignment="{TemplateBinding HorizontalContentAlignment}" Margin="{TemplateBinding Padding}" RecognizesAccessKey="True" SnapsToDevicePixels="{TemplateBinding SnapsToDevicePixels}" VerticalAlignment="{TemplateBinding VerticalContentAlignment}"/>
                        </Border>
                        <ControlTemplate.Triggers>
                            <Trigger Property="IsDefaulted" Value="true">

                            </Trigger>
                            <Trigger Property="IsMouseOver" Value="true">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.MouseOver.Background2}"/>

                            </Trigger>
                            <Trigger Property="IsPressed" Value="true">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.Pressed.Background2}"/>

                            </Trigger>
                            <Trigger Property="IsEnabled" Value="false">
                                <Setter Property="Background" TargetName="border" Value="{StaticResource Button.Disabled.Background2}"/>

                                <Setter Property="TextElement.Foreground" TargetName="contentPresenter" Value="{StaticResource Button.Disabled.Foreground2}"/>
                            </Trigger>
                        </ControlTemplate.Triggers>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
            <Style.Triggers>

                <EventTrigger RoutedEvent="Button.MouseEnter">
                    <EventTrigger.Actions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation From="30" To="32" Duration="0:0:0.2" Storyboard.TargetProperty="FontSize" />
                                <DoubleAnimation From="0.5" To="1" Duration="0:0:0.2" Storyboard.TargetProperty="Opacity" />

                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
                            To="1.05" Duration="0:0:0.2" />
                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleY"
                            To="1.05" Duration="0:0:0.2" />
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger.Actions>
                </EventTrigger>

                <EventTrigger RoutedEvent="Button.MouseLeave">
                    <EventTrigger.Actions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation From="32" To="30" Duration="0:0:0.2" Storyboard.TargetProperty="FontSize" />
                                <DoubleAnimation From="1" To="1" Duration="0:0:0.2" Storyboard.TargetProperty="Opacity" />
                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
                                 To="1" Duration="0:0:0.2" />
                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleY"
                                 To="1" Duration="0:0:0.2" />

                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger.Actions>
                </EventTrigger>

                <EventTrigger RoutedEvent="Button.PreviewMouseDown">
                    <EventTrigger.Actions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation From="31" To="30" Duration="0:0:0.1" Storyboard.TargetProperty="FontSize" />

                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
                 To="0.90" Duration="0:0:0.1" />
                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleY"
                 To="0.90" Duration="0:0:0.1" />
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger.Actions>
                </EventTrigger>

                <EventTrigger RoutedEvent="Button.PreviewMouseUp">
                    <EventTrigger.Actions>
                        <BeginStoryboard>
                            <Storyboard>
                                <DoubleAnimation From="30" To="31" Duration="0:0:0.1" Storyboard.TargetProperty="FontSize" />

                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleX"
To="1" Duration="0:0:0.1" />
                                <DoubleAnimation Storyboard.TargetProperty="RenderTransform.ScaleY"
To="1" Duration="0:0:0.1" />
                            </Storyboard>
                        </BeginStoryboard>
                    </EventTrigger.Actions>
                </EventTrigger>
            </Style.Triggers>
        </Style>
        <Style x:Key="GridSplitterPreviewStyle">
            <Setter Property="Control.Template">
                <Setter.Value>
                    <ControlTemplate>
                        <Rectangle Fill="#80000000"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>
        <Style x:Key="GridSplitterStyle1" TargetType="{x:Type GridSplitter}">
            <Setter Property="Background" Value="{DynamicResource {x:Static SystemColors.ControlBrushKey}}"/>
            <Setter Property="PreviewStyle" Value="{StaticResource GridSplitterPreviewStyle}"/>
            <Setter Property="Template">
                <Setter.Value>
                    <ControlTemplate TargetType="{x:Type GridSplitter}">
                        <Border CornerRadius="3" Background="{TemplateBinding Background}" BorderBrush="{TemplateBinding BorderBrush}" BorderThickness="{TemplateBinding BorderThickness}"/>
                    </ControlTemplate>
                </Setter.Value>
            </Setter>
        </Style>

    </Window.Resources>
    <Grid>
        <Grid x:Name="MainGrid" RenderTransformOrigin="0.5,0.5" Loaded="MainGrid_Loaded" Margin="1,1,0,1" PreviewMouseLeftButtonDown="MainGrid_PreviewMouseLeftButtonDown">
            <Grid.ColumnDefinitions>
                <ColumnDefinition Width="269" x:Name="LeftColumn"/>
                <ColumnDefinition Width="1085*"/>
            </Grid.ColumnDefinitions>
            <Grid.RenderTransform>
                <ScaleTransform x:Name="ScaleTransform" />
            </Grid.RenderTransform>

            <Border x:Name="MainBorder" BorderThickness="2" CornerRadius="12" IsHitTestVisible="False" Margin="-1,-1,0,-1" Grid.ColumnSpan="2">

                <Border.Effect>
                    <DropShadowEffect BlurRadius="25" Opacity="0.35" ShadowDepth="7.6" RenderingBias="Quality"/>
                </Border.Effect>

                <Border.BorderBrush>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="Black" Offset="0"/>
                        <GradientStop Color="Black" Offset="0"/>
                    </LinearGradientBrush>
                </Border.BorderBrush>
            </Border>


            <Border x:Name="ContentPanel" Grid.Column="1" Background="#FF1A1A1A" CornerRadius="0,0,12,0" BorderBrush="Black" BorderThickness="1" Margin="0,54,0,0" RenderTransformOrigin="0.5,0.5">
                <Border.RenderTransform>
                    <TranslateTransform x:Name="ContentPanelTransform" />
                </Border.RenderTransform>

                <Grid x:Name="gridcol">
                    <Border x:Name="firstTab" Margin="0,39,9,0" Panel.ZIndex="100" Visibility="Hidden">
                        <Viewbox Stretch="None" Margin="0,-1,1,2">
                            <Grid Width="800" Height="600">
                                <Image Tag="FirstImage" Source="/Images/other/code_optimization_icon_iconscom_53810_negate.png" Opacity="0.1" Margin="264,59,287,353"/>
                                <TextBlock x:Name="TextStart" TextWrapping="Wrap" TextAlignment="Center" Text="Создайте или откройте проект для работы с кодом" Foreground="#19FFFFFF" FontFamily="Segoe UI Variable Text Semibold" FontSize="30" Margin="10,268,40,121"/>
                                <Button Tag="BlueButton" Style="{DynamicResource ButtonStyle4}" Content="Открыть папку" Margin="291,0,0,216" FontSize="20" FontFamily="Segoe UI Variable Text Semibold" Foreground="White" Height="38" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="188" Click="Button_Click_1">
                                    <Button.Background>
                                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                            <GradientStop Color="#7F1C6BDE" Offset="0"/>
                                            <GradientStop Color="#7F1C6BDE" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Button.Background>
                                    <Button.BorderBrush>
                                        <LinearGradientBrush EndPoint="0.5,5" StartPoint="0.5,0" SpreadMethod="Pad" MappingMode="Absolute">
                                            <GradientStop Color="#FF305994"/>
                                            <GradientStop Color="#7F1C6BDE" Offset="1"/>
                                        </LinearGradientBrush>
                                    </Button.BorderBrush>
                                    <Button.Effect>
                                        <DropShadowEffect BlurRadius="10" Opacity="0.2" ShadowDepth="1" RenderingBias="Quality"/>
                                    </Button.Effect>
                                    <Button.BorderThickness>1</Button.BorderThickness>
                                </Button>
                            </Grid>
                        </Viewbox>
                    </Border>
                </Grid>
            </Border>

            <Image x:Name="Texture" Source="Images/other/abstract-geometric-background-shapes-texture.jpg" Stretch="Fill" Opacity="0.03" RenderTransformOrigin="0.5,0.5">
                <Image.RenderTransform>
                    <TranslateTransform x:Name="SideBarTextureTransform" />
                </Image.RenderTransform>
            </Image>

            <Border x:Name="SideBar" Grid.Column="0" Background="#FF1D1D1D" CornerRadius="12,0,0,12" BorderBrush="Black" BorderThickness="1" RenderTransformOrigin="0.5,0.5" MouseLeftButtonDown="SideBar_MouseLeftButtonDown">
                <Border.RenderTransform>
                    <TranslateTransform x:Name="SideBarTransform" />
                </Border.RenderTransform>

                <Grid Margin="0,0,-2,0">

                </Grid>
            </Border>
            <Button Tag="WindowsControls"  Style="{DynamicResource NavigationButtonsStyle}"  RenderTransformOrigin="0.5,0.5" x:Name="ExitWindowControl1" Height="40" Margin="0,7,8,0" VerticalAlignment="Top" Background="#7F131313" Panel.ZIndex="100" Click="ExitWindowControl1_Click" BorderBrush="{x:Null}" HorizontalAlignment="Right" Width="40" Grid.Column="1">
                <Button.Effect>
                    <DropShadowEffect BlurRadius="10" Opacity="0.4" ShadowDepth="2" RenderingBias="Quality"/>
                </Button.Effect>
                <Button.RenderTransform>
                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                </Button.RenderTransform>
                <Image x:Name="ExitImg" Height="29" Width="28" Source="Images/titlebar/close.png"/>
            </Button>
            <Button Tag="WindowsControls" x:Name="MinWindowControl1" Click="MinWindowControl1_Click"  RenderTransformOrigin="0.5,0.5" Style="{DynamicResource NavigationButtonsStyle}" Height="40" Margin="0,7,102,0" VerticalAlignment="Top" Background="#7F131313" Panel.ZIndex="100" BorderBrush="{x:Null}" HorizontalAlignment="Right" Width="40" Grid.Column="1">
                <Button.RenderTransform>
                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                </Button.RenderTransform>
                <Button.Effect>
                    <DropShadowEffect BlurRadius="10" Opacity="0.4" ShadowDepth="2" RenderingBias="Quality"/>
                </Button.Effect>
                <Image x:Name="MinImg" Height="16" Width="23" Source="Images/titlebar/min.png" Stretch="Fill"/>
            </Button>
            <Button Tag="WindowsControls" Style="{DynamicResource NavigationButtonsStyle}"  RenderTransformOrigin="0.5,0.5" x:Name="MaxWindowControl1" Height="40" Margin="0,7,55,0" VerticalAlignment="Top" Background="#7F131313" Panel.ZIndex="100" BorderBrush="{x:Null}" HorizontalAlignment="Right" Width="40" Grid.Column="1" Click="MaxWindowControl1_Click">
                <Button.RenderTransform>
                    <ScaleTransform ScaleX="1" ScaleY="1"/>
                </Button.RenderTransform>
                <Button.Effect>
                    <DropShadowEffect BlurRadius="10" Opacity="0.4" ShadowDepth="2" RenderingBias="Quality"/>
                </Button.Effect>
                <Image x:Name="MaxImg" Height="23" Width="26" Source="Images/titlebar/max.png"/>
            </Button>




            <!--
            <Border x:Name="ResizeUp" Tag="resizeElement" BorderThickness="1" Height="5" VerticalAlignment="Top" Background="Transparent" Cursor="SizeNS" Margin="9,0,9,0" Grid.ColumnSpan="2" Panel.ZIndex="100"/>
            <Border x:Name="ResizeDown" Tag="resizeElement" BorderThickness="1" Background="Transparent" Cursor="SizeNS" Margin="9,0,9,0" Height="5" VerticalAlignment="Bottom" Grid.ColumnSpan="2" Panel.ZIndex="100"/>
            <Border x:Name="ResizeRight" Tag="resizeElement" BorderThickness="1" Background="Transparent" Cursor="SizeWE" Margin="0,8,-2,8" HorizontalAlignment="Right" Width="5" Grid.Column="1" Panel.ZIndex="100"/>
            <Border x:Name="ResizeLeft" Tag="resizeElement" BorderThickness="1" HorizontalAlignment="Left" Width="6" Background="Transparent" Cursor="SizeWE" Margin="0,8,0,8" Panel.ZIndex="100"/>
            <Border x:Name="ResizeLeftTop" Tag="resizeElement" BorderThickness="1" HorizontalAlignment="Left" Height="8" Margin="-3,2,0,0" VerticalAlignment="Top" Width="15" RenderTransformOrigin="0.5,0.5" Background="Transparent" Cursor="SizeNWSE" Panel.ZIndex="100">
                <Border.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform Angle="-44.773"/>
                        <TranslateTransform/>
                    </TransformGroup>
                </Border.RenderTransform>
            </Border>
            <Border x:Name="ResizeRightTop" Tag="resizeElement" BorderThickness="1" Height="10" Margin="0,1,1,0" VerticalAlignment="Top" RenderTransformOrigin="0.5,0.5" Background="Transparent" Cursor="SizeNESW" HorizontalAlignment="Right" Width="16" Grid.Column="1" Panel.ZIndex="100">
                <Border.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform Angle="42.397"/>
                        <TranslateTransform/>
                    </TransformGroup>
                </Border.RenderTransform>
            </Border>
            <Border x:Name="ResizeLeftDown" Tag="resizeElement" BorderThickness="1" RenderTransformOrigin="0.5,0.5" Background="Transparent" Cursor="SizeNESW" Height="10" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="15" Panel.ZIndex="100">
                <Border.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform Angle="42.397"/>
                        <TranslateTransform/>
                    </TransformGroup>
                </Border.RenderTransform>
            </Border>
            <Border x:Name="ResizeRightDown" Tag="resizeElement" BorderThickness="1" Margin="0,0,0,2" RenderTransformOrigin="0.5,0.5" Background="Transparent" Cursor="SizeNWSE" Height="9" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="15" Grid.Column="1" Panel.ZIndex="100">
                <Border.RenderTransform>
                    <TransformGroup>
                        <ScaleTransform/>
                        <SkewTransform/>
                        <RotateTransform Angle="-44.773"/>
                        <TranslateTransform/>
                    </TransformGroup>
                </Border.RenderTransform>
            </Border>
            -->

            <Border x:Name="HideBorder" BorderThickness="1.3"
            Background="Transparent" CornerRadius="12"
            Panel.ZIndex="2"
            IsHitTestVisible="False"
            ClipToBounds="True" Margin="0,0,1,0" Grid.ColumnSpan="2" d:IsHidden="True" Cursor="SizeNESW">

                <Border.BorderBrush>
                    <LinearGradientBrush StartPoint="0,0" EndPoint="1,1">
                        <GradientStop Color="#FF8A8A8A" Offset="0"/>
                        <GradientStop Color="#3C3C3C" Offset="1"/>
                    </LinearGradientBrush>
                </Border.BorderBrush>
            </Border>

            <Border Grid.Column="0" Height="24" VerticalAlignment="Bottom" Visibility="Hidden"/>


            <TabControl Tag="SystemTabC" Grid.Column="0" Style="{DynamicResource TabControlStyle2}" Background="Transparent" BorderBrush="Transparent" BorderThickness="0" Margin="1,0,1,1">
                <TabControl.Resources>
                    <Style x:Key="TabItemFiles" TargetType="TabItem">
                        <Setter Property="Background" Value="White" />
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="TabItem">
                                    <Grid>
                                        <Border Name="Border" BorderThickness="1,1,1,1" Width="40" BorderBrush="#FF2E2E2E" CornerRadius="8,8,8,8" Margin="8,6,3,-6" Background="#801D1D1D" Opacity="0.4"/>
                                        <Image Source="Images/icons/files_icon_184974_negate.png" Margin="8,13,6,1"/>
                                    </Grid>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter TargetName="Border" Property="Background" Value="#FF1D1D1D" />
                                        </Trigger>
                                        <Trigger Property="IsSelected" Value="False">
                                            <Setter TargetName="Border" Property="Background" Value="#FF2E2E2E" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>

                    <Style x:Key="TabItemSearch" TargetType="TabItem">
                        <Setter Property="Background" Value="White" />
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="TabItem">
                                    <Grid>
                                        <Border Name="Border" BorderThickness="1,1,1,1" Width="40" BorderBrush="#FF2E2E2E" CornerRadius="8,8,8,8" Margin="8,6,3,-6" Background="#801D1D1D" Opacity="0.4"/>
                                        <Image Source="Images/icons/searcher_magnifyng_glass_search_locate_find_icon_123813_negate.png" Margin="8,13,5,1"/>
                                    </Grid>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter TargetName="Border" Property="Background" Value="#FF1D1D1D" />
                                        </Trigger>
                                        <Trigger Property="IsSelected" Value="False">
                                            <Setter TargetName="Border" Property="Background" Value="#FF2E2E2E" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>

                    <Style x:Key="TabItemSettings" TargetType="TabItem">
                        <Setter Property="Background" Value="White" />
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="TabItem">
                                    <Grid>
                                        <Border Name="Border" BorderThickness="1,1,1,1" Width="40" BorderBrush="#FF2E2E2E" CornerRadius="8,8,8,8" Margin="8,6,3,-6" Background="#801D1D1D" Opacity="0.4"/>
                                        <Image Source="Images/icons/gear_icon_184947_negate.png" Margin="10,13,5,1"/>
                                    </Grid>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter TargetName="Border" Property="Background" Value="#FF1D1D1D" />
                                        </Trigger>
                                        <Trigger Property="IsSelected" Value="False">
                                            <Setter TargetName="Border" Property="Background" Value="#FF2E2E2E" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>

                    <Style x:Key="TabItemAI" TargetType="TabItem">
                        <Setter Property="Background" Value="White" />
                        <Setter Property="Template">
                            <Setter.Value>
                                <ControlTemplate TargetType="TabItem">
                                    <Grid>
                                        <Border Name="Border" BorderThickness="1,1,1,1" Width="40" BorderBrush="#FF2E2E2E" CornerRadius="8,8,8,8" Margin="8,6,3,-6" Background="#801D1D1D" Opacity="0.4"/>
                                        <Image Source="/Images/icons/chatgpt_logo_openai_gpt_ia_line_icon_264985_negate.png" Margin="10,13,5,1"/>
                                    </Grid>
                                    <ControlTemplate.Triggers>
                                        <Trigger Property="IsSelected" Value="True">
                                            <Setter TargetName="Border" Property="Background" Value="#FF1D1D1D" />
                                        </Trigger>
                                        <Trigger Property="IsSelected" Value="False">
                                            <Setter TargetName="Border" Property="Background" Value="#FF2E2E2E" />
                                        </Trigger>
                                    </ControlTemplate.Triggers>
                                </ControlTemplate>
                            </Setter.Value>
                        </Setter>
                    </Style>
                </TabControl.Resources>

                <TabItem Tag="SystemTab" Height="40" Style="{StaticResource TabItemFiles}" Header="Новая вкладка" VerticalAlignment="Top" Margin="4,-1,-4,0"  Background="#FF292929" BorderBrush="#FF565656" Foreground="White" FontFamily="Segoe UI Variable Text Semibold" FontSize="16">
                    <Grid Tag="SystemGrid" Margin="0,14,0,0">
                        <Label x:Name="TitleSideBar" Content="Файлы" HorizontalAlignment="Left" Height="35" VerticalAlignment="Top" Width="193" Background="{x:Null}" Foreground="#FF9A9A9A" Margin="10,0,0,0" FontSize="18" FontFamily="Segoe UI Variable Text Semibold"/>

                        <ScrollViewer Style="{DynamicResource ScrollViewerStyle1}" x:Name="scrollViewer" RenderTransformOrigin="0.5,0.5"
              PanningMode="Both"
              VerticalScrollBarVisibility="Auto"
              HorizontalScrollBarVisibility="Auto"
              PreviewMouseWheel="ScrollViewer_PreviewMouseWheel2" Margin="20,45,0,0">
                            <TreeView AllowDrop="True" ScrollViewer.CanContentScroll="False" VirtualizingStackPanel.VirtualizationMode="Recycling" VirtualizingPanel.ScrollUnit="Pixel" Style="{StaticResource TreeViewStyle1}" x:Name="ViewXMLTags" Background="{x:Null}" Foreground="White" BorderBrush="{x:Null}" FontSize="18" FontFamily="Segoe UI Variable Text Semibold" ItemContainerStyle="{StaticResource TreeViewItemStyle2}" MouseDoubleClick="ViewXMLTags_MouseDoubleClick" MouseRightButtonDown="ViewXMLTags_MouseRightButtonDown" MouseLeftButtonDown="ViewXMLTags_MouseLeftButtonDown" MouseMove="ViewXMLTags_MouseMove" Drop="ViewXMLTags_Drop" DragOver="ViewXMLTags_DragOver"/>
                        </ScrollViewer>

                        <Border x:Name="RenameBorder" Background="#FF222222" CornerRadius="12,12,12,12" BorderThickness="1" RenderTransformOrigin="0.5,0.5" BorderBrush="#FF4C4C4C" Height="80" VerticalAlignment="Top" Margin="6,9,7,0" Visibility="Hidden">
                            <Grid>
                                <Label Margin="7,1,69,0" Foreground="White" FontSize="18" FontFamily="Segoe UI Variable Text Semibold" Content="Новое название" Height="38" VerticalAlignment="Top"/>
                                <Button x:Name="renamecancel" Style="{DynamicResource ButtonStyle3}" Margin="0,5,4,0" Background="#FF292929" BorderBrush="{x:Null}" Click="renamecancel_Click" Height="19" VerticalAlignment="Top" HorizontalAlignment="Right" Width="20">
                                    <Image Source="Images/titlebar/close.png" Height="16" Width="20"></Image>
                                </Button>

                                <TextBox x:Name="renametextbox" Style="{DynamicResource TextBoxStyle}"  Margin="7,44,86,5" Background="#FF242424" BorderBrush="#FF4C4C4C" Foreground="White" FontSize="20" Padding="5,0,0,0"/>
                                <Button x:Name="renameOk" Style="{DynamicResource ButtonStyle2}" Content="ОК" Margin="0,0,10,5" Foreground="White" Background="#FF1C6BDE" BorderBrush="{x:Null}" Click="renameOk_Click" Height="29" VerticalAlignment="Bottom" HorizontalAlignment="Right" Width="71"/>
                            </Grid>
                        </Border>
                    </Grid>
                </TabItem>
                <TabItem Tag="SystemTab" Height="40" Style="{StaticResource TabItemSearch}" Header="Новая вкладка" VerticalAlignment="Top" Margin="4,-1,-4,0"  Background="#FF292929" BorderBrush="#FF565656" Foreground="White" FontFamily="Segoe UI Variable Text Semibold" FontSize="16">
                    <Grid Margin="0,14,0,0">
                        <Grid.RowDefinitions>
                            <RowDefinition Height="Auto"/>
                            <RowDefinition Height="Auto" MinHeight="255" />
                            <RowDefinition/>
                        </Grid.RowDefinitions>
                        <Label Grid.Column="0" x:Name="SearchSideBar" Content="Поиск" HorizontalAlignment="Left" Height="35" VerticalAlignment="Top" Width="193" Background="{x:Null}" Foreground="#FF9A9A9A" Margin="10,0,0,0" FontSize="18" FontFamily="Segoe UI Variable Text Semibold"/>
                        <TextBox Grid.Column="0" x:Name="SearchTextBox" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TextWrapping="Wrap" Style="{StaticResource TextBoxStyle}" Background="#FF292929" Foreground="White" BorderBrush="{x:Null}" SelectionBrush="#FF1C6BDE" Margin="16,35,22,0" Padding="10,10,10,10" FontSize="16" Opacity="0.8" TextChanged="SearchTextBox_TextChanged"/>

                        <GridSplitter Grid.Row="1" HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="3" Background="#00F0F0F0"/>

                        <Button Grid.Column="0" x:Name="SearchButton" Style="{DynamicResource ButtonStyle3}" Content="Поиск фрагмента" Margin="20,46,0,0" FontSize="15" FontFamily="Segoe UI Variable Text Semibold" Foreground="White" HorizontalAlignment="Left" Width="218" Height="35" VerticalAlignment="Top" Click="SearchButton_Click" Visibility="Hidden">
                            <Button.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                    <GradientStop Color="#FF4A4A4A" Offset="0"/>
                                    <GradientStop Color="#FF4A4A4A" Offset="1"/>
                                </LinearGradientBrush>
                            </Button.Background>
                            <Button.BorderBrush>
                                <LinearGradientBrush EndPoint="0.5,5" StartPoint="0.5,0" SpreadMethod="Pad" MappingMode="Absolute">
                                    <GradientStop Color="#FF676767"/>
                                    <GradientStop Color="#FF4A4A4A" Offset="1"/>
                                </LinearGradientBrush>
                            </Button.BorderBrush>
                            <Button.Effect>
                                <DropShadowEffect BlurRadius="10" Opacity="0.2" ShadowDepth="1" RenderingBias="Quality"/>
                            </Button.Effect>
                            <Button.BorderThickness>1</Button.BorderThickness>
                        </Button>

                        <Button x:Name="NextButton" Style="{DynamicResource ButtonStyle3}" Margin="0,40,60,0" FontSize="24" FontFamily="Segoe UI Variable Text Semibold" Background="#7F2F2F2F" Foreground="#FF9A9A9A" BorderBrush="{x:Null}" Height="30" VerticalAlignment="Top" HorizontalAlignment="Right" Width="30" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Click="NextButton_Click" Grid.Row="1">
                            <Image Source="Images/icons/arrow_back_chevron_direction_left_navigation_right_icon_123223_negate.png" Margin="-2,-2,-2,-2" RenderTransformOrigin="0.5,0.5">
                                <Image.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform/>
                                        <SkewTransform/>
                                        <RotateTransform Angle="-90.79"/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Image.RenderTransform>
                            </Image>
                        </Button>

                        <Button x:Name="PrevButton" Style="{DynamicResource ButtonStyle3}" Margin="0,40,22,0" FontSize="24" FontFamily="Segoe UI Variable Text Semibold" Background="#7F2F2F2F" Foreground="#FF9A9A9A" BorderBrush="{x:Null}" Height="30" VerticalAlignment="Top" HorizontalAlignment="Right" Width="30" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Click="PrevButton_Click" Grid.Row="1">
                            <Image Source="Images/icons/arrows_chevron_direction_left_move_next_right_icon_123222_negate.png" Margin="-2,-2,-2,-2" RenderTransformOrigin="0.5,0.5">
                                <Image.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform/>
                                        <SkewTransform/>
                                        <RotateTransform Angle="269.799"/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Image.RenderTransform>
                            </Image>
                        </Button>

                        <Button x:Name="NextCodeButton" Style="{DynamicResource ButtonStyle3}" Margin="0,115,60,0" FontSize="24" FontFamily="Segoe UI Variable Text Semibold" Background="#7F2F2F2F" Foreground="#FF9A9A9A" BorderBrush="{x:Null}" Height="30" VerticalAlignment="Top" HorizontalAlignment="Right" Width="30" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Click="NextCodeButton_Click" Grid.Row="1">
                            <Image Source="Images/icons/arrow_back_chevron_direction_left_navigation_right_icon_123223_negate.png" Margin="-2,-2,-2,-2" RenderTransformOrigin="0.5,0.5">
                                <Image.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform/>
                                        <SkewTransform/>
                                        <RotateTransform Angle="-90.79"/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Image.RenderTransform>
                            </Image>
                        </Button>

                        <Button x:Name="PrevCodeButton" Style="{DynamicResource ButtonStyle3}" Margin="0,115,22,0" FontSize="24" FontFamily="Segoe UI Variable Text Semibold" Background="#7F2F2F2F" Foreground="#FF9A9A9A" BorderBrush="{x:Null}" Height="30" VerticalAlignment="Top" HorizontalAlignment="Right" Width="30" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Click="PrevCodeButton_Click" Grid.Row="1">
                            <Image Source="Images/icons/arrows_chevron_direction_left_move_next_right_icon_123222_negate.png" Margin="-2,-2,-2,-2" RenderTransformOrigin="0.5,0.5">
                                <Image.RenderTransform>
                                    <TransformGroup>
                                        <ScaleTransform/>
                                        <SkewTransform/>
                                        <RotateTransform Angle="269.799"/>
                                        <TranslateTransform/>
                                    </TransformGroup>
                                </Image.RenderTransform>
                            </Image>
                        </Button>

                        <Label x:Name="StatLbl" Tag="ControlLabel" Margin="16,33,95,0" Content="0 / 0" FontSize="20" Foreground="White" Grid.Row="1" Height="105" VerticalAlignment="Top"/>
                        <Label x:Name="SearchSideBar_Копировать" Content="Файлы" HorizontalAlignment="Left" Height="35" VerticalAlignment="Top" Width="193" Background="{x:Null}" Foreground="#FF9A9A9A" Margin="10,6,0,0" FontSize="18" FontFamily="Segoe UI Variable Text Semibold" Grid.Row="1"/>
                        <Label x:Name="StatLbl_Code" Tag="ControlLabel" Margin="20,111,91,0" Content="0 / 0" FontSize="20" Foreground="White" Grid.Row="1" Height="105" VerticalAlignment="Top"/>
                        <Label x:Name="SearchSideBar_Копировать1" Content="Код" HorizontalAlignment="Left" Height="35" VerticalAlignment="Top" Width="193" Background="{x:Null}" Foreground="#FF9A9A9A" Margin="16,81,0,0" FontSize="18" FontFamily="Segoe UI Variable Text Semibold" Grid.Row="1"/>
                        <Label x:Name="SearchSideBar_Копировать2" Content="Замена" HorizontalAlignment="Left" Height="36" VerticalAlignment="Top" Width="193" Background="{x:Null}" Foreground="#FF9A9A9A" Margin="16,163,0,0" FontSize="18" FontFamily="Segoe UI Variable Text Semibold" Grid.Row="1"/>
                        <TextBox x:Name="ReplaceTextBox" AcceptsReturn="True" VerticalScrollBarVisibility="Auto"  TextWrapping="Wrap" Style="{StaticResource TextBoxStyle}" Background="#FF292929" Foreground="White" BorderBrush="{x:Null}" SelectionBrush="#FF1C6BDE" Margin="16,204,22,0" Padding="10,10,10,10" FontSize="16" Opacity="0.8" TextChanged="ReplaceTextBox_TextChanged" Grid.Row="1"/>
                        <GridSplitter Grid.Row="2" HorizontalAlignment="Stretch" VerticalAlignment="Top" Height="3" Background="#00F0F0F0"/>
                    </Grid>
                </TabItem>
                <TabItem Tag="SystemTab" Height="40" Style="{StaticResource TabItemSettings}" Header="Новая вкладка" VerticalAlignment="Top" Margin="4,-1,-4,0"  Background="#FF292929" BorderBrush="#FF565656" Foreground="White" FontFamily="Segoe UI Variable Text Semibold" FontSize="16">
                    <Grid Margin="0,14,0,0">
                        <Label x:Name="SettingsSideBar" Content="Настройки" HorizontalAlignment="Left" Height="35" VerticalAlignment="Top" Width="193" Background="{x:Null}" Foreground="#FF9A9A9A" Margin="10,0,0,0" FontSize="18" FontFamily="Segoe UI Variable Text Semibold"/>
                        <!--
                        <Button x:Name="TransparentButton" Style="{DynamicResource ButtonStyle3}" Content="Прозрачность окна" Margin="22,51,0,0" FontSize="20" FontFamily="Segoe UI Variable Text Semibold" Foreground="White" HorizontalAlignment="Left" Width="218" Height="35" VerticalAlignment="Top" Click="TransparentButton_Click" Visibility="Hidden">
                            <Button.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                    <GradientStop Color="#FF4A4A4A" Offset="0"/>
                                    <GradientStop Color="#FF4A4A4A" Offset="1"/>
                                </LinearGradientBrush>
                            </Button.Background>
                            <Button.BorderBrush>
                                <LinearGradientBrush EndPoint="0.5,5" StartPoint="0.5,0" SpreadMethod="Pad" MappingMode="Absolute">
                                    <GradientStop Color="#FF676767"/>
                                    <GradientStop Color="#FF4A4A4A" Offset="1"/>
                                </LinearGradientBrush>
                            </Button.BorderBrush>
                            <Button.Effect>
                                <DropShadowEffect BlurRadius="10" Opacity="0.2" ShadowDepth="1" RenderingBias="Quality"/>
                            </Button.Effect>
                            <Button.BorderThickness>1</Button.BorderThickness>
                        </Button>
                        -->

                        <CheckBox x:Name="BlurToggle" 
                          Content="Включить размытие"
                          IsChecked="False" 
                          Checked="BlurToggle_Checked"
                          Unchecked="BlurToggle_Unchecked" Margin="22,51,0,0" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" Foreground="White" HorizontalAlignment="Left" Width="218" Height="35" VerticalAlignment="Top" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Style="{StaticResource FluentToggle}"/>

                        <Label Tag="ControlLabel" Margin="22,98,0,0" Content="Размер шрифта" FontSize="14" Foreground="White" HorizontalAlignment="Left" Width="114" Height="30" VerticalAlignment="Top"></Label>
                        <TextBox x:Name="FontConf" Style="{DynamicResource TextBoxStyle}" Margin="22,126,0,0" Background="#FF242424" BorderBrush="{x:Null}" Foreground="White" FontSize="20" VerticalContentAlignment="Center" Padding="15,0,0,0" HorizontalAlignment="Left" Width="218" Height="40" VerticalAlignment="Top" TextChanged="TextBox_TextChanged"/>
                        <Label Tag="ControlLabel" Margin="22,183,0,0" Content="Темы" FontSize="14" Foreground="White" HorizontalAlignment="Left" Width="114" Height="30" VerticalAlignment="Top"/>
                        <ComboBox Style="{DynamicResource comboboxstyle}" x:Name="ThemesComboBox" Height="38" Margin="22,213,0,0" VerticalAlignment="Top" HorizontalAlignment="Left" Width="218" FontFamily="Segoe UI Variable Text Semibold" FontSize="16" SelectionChanged="ThemesComboBox_SelectionChanged"/>



                        <!--
                        <Border x:Name="OpacityBorder" Background="#FF222222" CornerRadius="12,12,12,12" BorderThickness="1" RenderTransformOrigin="0.5,0.5" BorderBrush="#FF4C4C4C" HorizontalAlignment="Left" Width="250" Height="125" VerticalAlignment="Top" Margin="6,26,0,0" Visibility="Hidden">
                            <Grid>
                                <Label Margin="57,24,57,0" Foreground="White" FontSize="18" FontFamily="Segoe UI Variable Text Semibold" Content="Прозрачность" Height="38" VerticalAlignment="Top"/>
                                <Slider x:Name="SliderOpacity" Margin="25,78,25,0" Maximum="1" Minimum="0.3" Value="0.5" ValueChanged="SliderOpacity_ValueChanged" SmallChange="0.01" Height="35" VerticalAlignment="Top"></Slider>
                                <Button Style="{DynamicResource ButtonStyle3}" Margin="218,10,10,93" Background="#FF404040" BorderBrush="{x:Null}" Click="Button_Click">
                                    <Image Source="/Images/titlebar/close.png" Height="12" Width="11"></Image>
                                </Button>
                            </Grid>
                        </Border>
                        -->
                    </Grid>
                </TabItem>

                <TabItem Tag="SystemTab" Height="40" Style="{StaticResource TabItemAI}" Header="Новая вкладка" VerticalAlignment="Top" Margin="4,-1,-4,0"  Background="#FF292929" BorderBrush="#FF565656" Foreground="White" FontFamily="Segoe UI Variable Text Semibold" FontSize="16">
                    <Grid Margin="0,14,0,0">
                        <Border CornerRadius="15" Margin="16,40,17,61" Background="#99292929">
                            <Grid>
                                <TextBox Grid.Column="0" x:Name="AITextBox" AcceptsReturn="True" VerticalScrollBarVisibility="Auto" TextWrapping="Wrap" Style="{StaticResource TextBoxStyle}" Background="#FF1F1F1F" Foreground="White" BorderBrush="{x:Null}" SelectionBrush="#FF1C6BDE" Margin="10,0,10,10" Padding="10,10,10,10" FontSize="16" Opacity="0.8" TextChanged="SearchTextBox_TextChanged" Height="85" VerticalAlignment="Bottom"/>

                                <ScrollViewer Style="{DynamicResource ScrollViewerStyle1}" RenderTransformOrigin="0.5,0.5"
                                      PanningMode="Both"
                                      VerticalScrollBarVisibility="Auto"
                                      HorizontalScrollBarVisibility="Disabled"
                                      PreviewMouseWheel="ScrollViewer_PreviewMouseWheel2" Margin="0,0,0,95">
                                    <StackPanel x:Name="AnsverPanel">
                                        <!--<Border Margin="10,15,10,0" CornerRadius="10" ClipToBounds="True" Background="#FF212121" Height="326" VerticalAlignment="Top" >
                                            <Grid>
                                                <ScrollViewer Style="{DynamicResource ScrollViewerStyle1}" x:Name="scrollViewer2" RenderTransformOrigin="0.5,0.5"
                                                    PanningMode="Both"
                                                    VerticalScrollBarVisibility="Disabled"
                                                    HorizontalScrollBarVisibility="Auto"
                                                    PreviewMouseWheel="ScrollViewer_PreviewMouseWheel2" Margin="0,10,0,10">
                                                    <avalonEdit:TextEditor HorizontalScrollBarVisibility="Disabled" VerticalScrollBarVisibility="Disabled"  ShowLineNumbers="True" BorderBrush="{x:Null}" Background="#FF212121" Foreground="White">

                                                    </avalonEdit:TextEditor>
                                                </ScrollViewer>
                                            </Grid>
                                        </Border>-->



                                    </StackPanel>
                                </ScrollViewer>

                            </Grid>
                        </Border>

                        <Label x:Name="AISideBar" Content="AI генерация кода" HorizontalAlignment="Left" Height="35" VerticalAlignment="Top" Width="193" Background="{x:Null}" Foreground="#FF9A9A9A" Margin="10,0,0,0" FontSize="18" FontFamily="Segoe UI Variable Text Semibold"/>

                        <Button Tag="BlueButton" x:Name="SendButton" Style="{DynamicResource ButtonStyle2}" Content="Отправить" Margin="19,0,25,13" FontSize="20" FontFamily="Segoe UI Variable Text Semibold" Foreground="White" Height="38" VerticalAlignment="Bottom" Click="SendButton_Click">
                            <Button.Background>
                                <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                    <GradientStop Color="#FF1C6BDE" Offset="0"/>
                                    <GradientStop Color="#FF1C6BDE" Offset="1"/>
                                </LinearGradientBrush>
                            </Button.Background>
                            <Button.BorderBrush>
                                <LinearGradientBrush EndPoint="0.5,5" StartPoint="0.5,0" SpreadMethod="Pad" MappingMode="Absolute">
                                    <GradientStop Color="#FF498CEE"/>
                                    <GradientStop Color="#FF1B67D6" Offset="1"/>
                                </LinearGradientBrush>
                            </Button.BorderBrush>
                            <Button.Effect>
                                <DropShadowEffect BlurRadius="10" Opacity="0.2" ShadowDepth="1" RenderingBias="Quality"/>
                            </Button.Effect>
                            <Button.BorderThickness>1</Button.BorderThickness>
                        </Button>
                    </Grid>
                </TabItem>
            </TabControl>

            <Border x:Name="DockPanel" BorderBrush="Black" BorderThickness="1" Height="54" VerticalAlignment="Top" CornerRadius="0,12,0,0" Background="#FF212121" MouseLeftButtonDown="DockPanel_MouseLeftButtonDown" RenderTransformOrigin="0.5,0.5" Grid.Column="1">
                <Border.RenderTransform>
                    <TranslateTransform x:Name="DockPanelTransform" />
                </Border.RenderTransform>

                <WrapPanel x:Name="wrap_panel" Grid.Column="1" Margin="-46,0,131,0" Height="59" VerticalAlignment="Top" RenderTransformOrigin="0.5,0.5">
                    <Button x:Name="SideBarHideButton" Style="{DynamicResource TitleBarButton}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Grid.Column="1" Height="38" Margin="1,6,0,0" FontSize="24" FontFamily="Segoe UI Variable Text Semibold" Background="{x:Null}" Click="SideBarHideButton_Click" Foreground="White" BorderBrush="{x:Null}" Padding="0,1,0,1">

                        <Image Source="/Images/icons/sidebar_toggle_nav_icon_145937_negate.png" Width="38" Margin="0,-1,0,-1" OpacityMask="Black"/>
                    </Button>
                    <Button Tag="wrapButton" x:Name="SelectProjectButton" Style="{DynamicResource TitleBarButton}" Grid.Column="1" Content="Выберите или создайте проект" HorizontalAlignment="Left" Height="38" Margin="10,6,0,0" VerticalAlignment="Top" FontSize="24" FontFamily="Segoe UI Variable Text Semibold" Background="#FF1D1D1D" Click="Load_Button_Click" Foreground="White" BorderBrush="#FF2E2E2E" HorizontalContentAlignment="Left" Padding="10,1,10,1" Width="auto"/>
                    <Button Tag="wrapButton" x:Name="CloseProjectButton" Style="{DynamicResource TitleBarButton}" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Grid.Column="1" Height="38" Margin="1,6,0,0" FontSize="24" FontFamily="Segoe UI Variable Text Semibold" Background="#FF1D1D1D" Click="CloseProjectButton_Click" Foreground="White" BorderBrush="#FF2E2E2E" Padding="0,1,0,1">

                        <Image Source="/Images/icons/arrows_chevron_direction_left_move_next_right_icon_123222_negate.png" Width="18" Margin="0,-1,0,-1"/>
                    </Button>

                    <Button Tag="wrapButton" x:Name="SaveButton" Style="{DynamicResource TitleBarButton}" Grid.Column="1" HorizontalAlignment="Left" Height="38" Margin="10,6,0,0" VerticalAlignment="Top" FontSize="24" FontFamily="Segoe UI Variable Text Semibold" Background="#FF1D1D1D" Click="SaveButton_Click" Foreground="#FF9A9A9A" BorderBrush="#FF2E2E2E" Padding="10,1,10,1" Width="47" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch">
                        <Image Source="/Images/icons/save_arrow_right_regular_icon_203324_negate.png" Margin="-6,-3,-7,-2"/>
                    </Button>
                    <Label Tag="ControlLabel" x:Name="PathFile" MaxWidth="800" Grid.Column="1" Height="38" Width="auto" Foreground="White" FontSize="18" Margin="10,6,0,0" FontFamily="Segoe UI Variable Text Semibold" VerticalContentAlignment="Center" HorizontalContentAlignment="Right"></Label>
                </WrapPanel>
            </Border>

            <GridSplitter Tag="SystemSplitter" Style="{DynamicResource GridSplitterStyle1}" x:Name="Splitter" Grid.Column="1" Width="3" HorizontalAlignment="Left" Cursor="SizeWE" Opacity="0" Background="White" Panel.ZIndex="100" MouseMove="Splitter_MouseMove"/>
            <Grid x:Name="notificationGrid" Grid.Column="1" Height="546" Margin="0,64,-740,0" VerticalAlignment="Top" HorizontalAlignment="Right" Width="1125">
                <Grid.RowDefinitions>
                    <RowDefinition Height="auto"/>
                    <RowDefinition Height="auto"/>
                    <RowDefinition Height="auto"/>
                    <RowDefinition Height="auto"/>
                    <RowDefinition Height="auto"/>
                </Grid.RowDefinitions>


            </Grid>

            <!--
            <Border x:Name="NotificationPanel" Grid.Column="0" Background="#FF222222" CornerRadius="12,12,12,12" BorderThickness="1" RenderTransformOrigin="0.5,0.5" BorderBrush="#FF4C4C4C" HorizontalAlignment="Center" Width="auto" Height="auto" VerticalAlignment="Center">
                <Border.RenderTransform>
                    <TransformGroup>
                        <TranslateTransform x:Name="TranslateTransform"/>
                    </TransformGroup>
                </Border.RenderTransform>

                <Border.Effect>
                    <DropShadowEffect BlurRadius="40" Opacity="0.5" ShadowDepth="5" RenderingBias="Quality"/>
                </Border.Effect>

                <Grid Margin="5,5,5,10">
                    <Label x:Name="LabelProgressBar" Content="Доступен предпросмотр для HTML" Height="68" VerticalAlignment="Center" Background="{x:Null}" Foreground="#FF9A9A9A" FontSize="16" FontFamily="Segoe UI Variable Text Semibold"/>
                    <ProgressBar x:Name="ProgressBarPanel" Style="{DynamicResource ProgressBarStyle1}" Margin="10,54,16,13" Background="#FF383838" BorderBrush="#FF353535" Visibility="Hidden"/>
                    <Button x:Name="PreviewOn" Style="{DynamicResource ButtonStyle2}" Content="Включить"  FontSize="16" FontFamily="Segoe UI Variable Text Semibold" Foreground="White" Click="PreviewOn_Click" Height="28" VerticalAlignment="Bottom" HorizontalAlignment="Left" Width="139" Margin="160,0,8,1">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                <GradientStop Color="#FF1C6BDE" Offset="0"/>
                                <GradientStop Color="#FF1C6BDE" Offset="1"/>
                            </LinearGradientBrush>
                        </Button.Background>
                        <Button.BorderBrush>
                            <LinearGradientBrush EndPoint="0.5,5" StartPoint="0.5,0" SpreadMethod="Pad" MappingMode="Absolute">
                                <GradientStop Color="#FF498CEE"/>
                                <GradientStop Color="#FF1B67D6" Offset="1"/>
                            </LinearGradientBrush>
                        </Button.BorderBrush>
                        <Button.Effect>
                            <DropShadowEffect BlurRadius="10" Opacity="0.2" ShadowDepth="1" RenderingBias="Quality"/>
                        </Button.Effect>
                        <Button.BorderThickness>1</Button.BorderThickness>
                    </Button>

                    <Button x:Name="CancelPreview" Style="{DynamicResource ButtonStyle3}" Content="Ок"  FontSize="16" FontFamily="Segoe UI Variable Text Semibold" Foreground="White" Click="CancelPreview_Click" HorizontalAlignment="Left" Width="138" Height="28" VerticalAlignment="Bottom" Margin="8,0,0,1">
                        <Button.Background>
                            <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                                <GradientStop Color="#FF4A4A4A" Offset="0"/>
                                <GradientStop Color="#FF4A4A4A" Offset="1"/>
                            </LinearGradientBrush>
                        </Button.Background>
                        <Button.BorderBrush>
                            <LinearGradientBrush EndPoint="0.5,5" StartPoint="0.5,0" SpreadMethod="Pad" MappingMode="Absolute">
                                <GradientStop Color="#FF676767"/>
                                <GradientStop Color="#FF4A4A4A" Offset="1"/>
                            </LinearGradientBrush>
                        </Button.BorderBrush>
                        <Button.Effect>
                            <DropShadowEffect BlurRadius="10" Opacity="0.2" ShadowDepth="1" RenderingBias="Quality"/>
                        </Button.Effect>
                        <Button.BorderThickness>1</Button.BorderThickness>
                    </Button>
                </Grid>
            </Border>
            -->

            <Rectangle Grid.Column="0" Height="1" Margin="1,53,1,0" VerticalAlignment="Top" Fill="White" Opacity="0.1"/>

            <Border Grid.Column="1" Margin="1,55,0,0" Background="#FF1A1A1A"  BorderBrush="{x:Null}" Height="39" VerticalAlignment="Top" HorizontalAlignment="Left" Width="79" Visibility="Hidden">
            </Border>

            <Border Grid.Column="1" Margin="0,55,1,0" Background="#FF1A1A1A"  BorderBrush="{x:Null}" Height="39" VerticalAlignment="Top" HorizontalAlignment="Right" Width="44" Visibility="Hidden">
            </Border>

            <Button x:Name="UndoB" Style="{DynamicResource ButtonStyle3}" Grid.Column="1" Margin="12,60,0,0" FontSize="24" FontFamily="Segoe UI Variable Text Semibold" Background="#7F2F2F2F" Foreground="#FF9A9A9A" BorderBrush="{x:Null}" Height="30" VerticalAlignment="Top" HorizontalAlignment="Left" Width="30" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Click="UndoB_Click">
                <Image Source="Images/icons/arrow_back_chevron_direction_left_navigation_right_icon_123223_negate.png" Margin="-2,-2,-2,-2"/>
            </Button>

            <Button x:Name="RedoB" Style="{DynamicResource ButtonStyle3}" Grid.Column="1" Margin="45,60,0,0" FontSize="24" FontFamily="Segoe UI Variable Text Semibold" Background="#7F2F2F2F" Foreground="#FF9A9A9A" BorderBrush="{x:Null}" Height="30" VerticalAlignment="Top" HorizontalAlignment="Left" Width="30" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Click="RedoB_Click">
                <Image Source="Images/icons/arrows_chevron_direction_left_move_next_right_icon_123222_negate.png" Margin="-2,-2,-2,-2"/>
            </Button>

            <Button x:Name="SplitButton" Style="{DynamicResource ButtonStyle3}" Grid.Column="1" Margin="0,60,10,0" FontSize="24" FontFamily="Segoe UI Variable Text Semibold" Background="#7F2F2F2F" Foreground="#FF9A9A9A" BorderBrush="{x:Null}" Height="30" VerticalAlignment="Top" HorizontalAlignment="Right" Width="30" HorizontalContentAlignment="Stretch" VerticalContentAlignment="Stretch" Click="SplitButton_Click">
                <Image Source="/Images/icons/layout_split_icon_159993_negate.png" Margin="4,4,4,4"/>
            </Button>

            <avalonEdit:TextEditor Grid.Column="1" Margin="1047,902,23,12" Visibility="Hidden"></avalonEdit:TextEditor>

        </Grid>

        <Border x:Name="SearchBorder" Margin="-795,240,1455,195" CornerRadius="15" BorderThickness="2" Background="#FF212121" BorderBrush="#FF4A4A4A" Visibility="Hidden">
            <Border.Effect>
                <DropShadowEffect BlurRadius="30" Opacity="0.3" ShadowDepth="5" RenderingBias="Quality"/>
            </Border.Effect>

            <Grid>
                <Label Margin="10,10,0,0" Content="Поиск" FontSize="32" Foreground="White" FontFamily="Segoe UI Variable Text Semibold" HorizontalAlignment="Left" Width="273" Height="50" VerticalAlignment="Top"></Label>

                <Button x:Name="CloseSearchBorderButton" Style="{DynamicResource ButtonRoundRevealStyle}" Margin="0,26,15,0" Background="#80424242" Click="CloseSearchBorderButton_Click" Height="30" VerticalAlignment="Top" HorizontalAlignment="Right" Width="30">
                    <Image Source="/Images/titlebar/close.png"></Image>
                </Button>

                <TextBox x:Name="SearchField2" Style="{DynamicResource TextBoxStyle}" TextWrapping="Wrap" Margin="18,80,18,296" Background="#FF2F2F2F" Foreground="White" FontSize="18" FontFamily="Segoe UI Variable Text Semibold" BorderBrush="{x:Null}" Padding="10,10,10,10"></TextBox>

                <Button Style="{DynamicResource ButtonStyle2}" x:Name="ConfirmSearch" Content="Выполнить поиск" HorizontalAlignment="Right" Height="42" Margin="0,20,60,0" VerticalAlignment="Top" Width="193" Foreground="White" FontSize="20" FontFamily="Segoe UI Variable Text Semibold">
                    <Button.Background>
                        <LinearGradientBrush StartPoint="0,0" EndPoint="0,1">
                            <GradientStop Color="#FF1C6BDE" Offset="0"/>
                            <GradientStop Color="#FF1C6BDE" Offset="1"/>
                        </LinearGradientBrush>
                    </Button.Background>
                    <Button.BorderBrush>
                        <LinearGradientBrush EndPoint="0.5,5" StartPoint="0.5,0" SpreadMethod="Pad" MappingMode="Absolute">
                            <GradientStop Color="#FF86B6FC"/>
                            <GradientStop Color="#FF1B67D6" Offset="1"/>
                        </LinearGradientBrush>
                    </Button.BorderBrush>
                    <Button.BorderThickness>1</Button.BorderThickness>
                    <Button.Effect>
                        <DropShadowEffect BlurRadius="8" Opacity="0.3" ShadowDepth="2" RenderingBias="Quality"/>
                    </Button.Effect>
                </Button>

                <ListBox Style="{DynamicResource ListBoxStyle1}" Margin="18,0,18,21" Height="255" VerticalAlignment="Bottom" Foreground="White" FontSize="18" FontFamily="Segoe UI Variable Text Semibold"></ListBox>
            </Grid>

        </Border>


        <Border x:Name="ContextMenuCustom"
                Tag="ContextMenu"
        Width="200"
        Height="226"
        Background="#FF222222"
        BorderBrush="#FF4B4B4B"
        BorderThickness="1"
        CornerRadius="12"
        RenderTransformOrigin="0,0"
        HorizontalAlignment="Left"
        VerticalAlignment="Top"
        Margin="0" Visibility="Hidden">
            <Border.Effect>
                <DropShadowEffect BlurRadius="30" Opacity="0.3" ShadowDepth="5" RenderingBias="Quality"/>
            </Border.Effect>

            <Border.RenderTransform>
                <TranslateTransform x:Name="ContextMenuTransform" />
            </Border.RenderTransform>

            <Grid>
                <Button Tag="ContextButton" x:Name="CopyButton" Content="Копировать" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,121,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="CopyButton_Click"/>
                <Button Tag="ContextButton" x:Name="PasteButton" Content="Вставить" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,156,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="PasteButton_Click"/>
                <Button Tag="ContextButton" x:Name="CutButton" Content="Вырезать" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,191,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="CutButton_Click"/>

                <Rectangle Margin="10,115,10,0" Fill="#FF333232" Height="1" VerticalAlignment="Top"></Rectangle>

                <Button Tag="ContextButton" x:Name="UndoButton" Content="Отменить" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,45,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="UndoButton_Click"/>
                <Button Tag="ContextButton" x:Name="RedoButton" Content="Вернуть" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,80,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="RedoButton_Click"/>
                <Rectangle Margin="10,39,10,0" Fill="#FF333232" Height="1" VerticalAlignment="Top"/>

                <Label Content="CTRL + C" Margin="137,127,6,73" FontSize="10" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FF777777"></Label>

                <Image Source="Images/icons/files_icon_184974_negate.png" Margin="5,126,173,78"></Image>
                <Label Content="CTRL + Shift + Z" Margin="104,86,10,114" FontSize="10" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FF777777"/>
                <Label Content="CTRL + Z" Margin="137,51,6,149" FontSize="10" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FF777777"/>
                <Label Content="CTRL + V" Margin="137,162,6,38" FontSize="10" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FF777777"/>
                <Label Content="CTRL + X" Margin="137,197,6,3" FontSize="10" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FF777777"/>
                <Image Source="Images/icons/arrow_arrows_back_direction_left_navigation_right_icon_123236_negate.png" Margin="5,85,173,119"/>
                <Image Source="Images/icons/arrow_arrows_back_direction_left_navigation_right_icon_123237_negate.png" Margin="5,50,173,154"/>
                <Image Source="Images/icons/insert_row_icon_216821_negate.png" Margin="5,161,173,43"/>
                <Image Source="Images/icons/cut_120004_negate.png" Margin="5,196,173,8"/>
                <Label Content="Редактор кода" Margin="0,1,0,190" FontSize="18" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FFBDBDBD" HorizontalContentAlignment="Center" VerticalContentAlignment="Center"/>
            </Grid>
        </Border >

        <Border x:Name="ContextMenuCustomFiles"
                Tag="ContextMenu"
Width="200"
Height="260"
Background="#FF222222"
BorderBrush="#FF4B4B4B"
BorderThickness="1"
CornerRadius="12"
RenderTransformOrigin="0,0"
HorizontalAlignment="Left"
VerticalAlignment="Top"
Margin="0" Visibility="Hidden">
            <Border.Effect>
                <DropShadowEffect BlurRadius="30" Opacity="0.3" ShadowDepth="5" RenderingBias="Quality"/>
            </Border.Effect>

            <Border.RenderTransform>
                <TranslateTransform x:Name="ContextMenuFilesTransform" />
            </Border.RenderTransform>

            <Grid>
                <Button Tag="ContextButton" x:Name="CopyFileButton" Content="Копировать" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,121,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="CopyFileButton_Click"/>
                <Button Tag="ContextButton" x:Name="PasteFileButton" Content="Вставить" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,156,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="PasteFileButton_Click"/>
                <Button Tag="ContextButton" x:Name="CutFileButton" Content="Вырезать" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,191,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="CutFileButton_Click"/>

                <Rectangle Margin="10,115,10,0" Fill="#FF333232" Height="1" VerticalAlignment="Top"></Rectangle>

                <Button Tag="ContextButton" x:Name="RenameButton" Content="Переименовать" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,45,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="RenameButton_Click"/>
                <Button Tag="ContextButton" x:Name="CopyPathButton" Content="Скопировать путь" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,80,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="CopyPathButton_Click"/>
                <Button Tag="ContextButton" x:Name="DeleteFileButton" Content="Удалить" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,225,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="DeleteFileButton_Click"/>

                <Rectangle Margin="10,39,10,0" Fill="#FF333232" Height="1" VerticalAlignment="Top"/>

                <Label Content="CTRL + C" Margin="137,127,6,107" FontSize="10" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FF777777"></Label>

                <Image Source="Images/icons/files_icon_184974_negate.png" Margin="5,126,173,0" Height="20" VerticalAlignment="Top"></Image>
                <Label Content="CTRL + V" Margin="137,162,6,73" FontSize="10" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FF777777"/>
                <Label Content="CTRL + X" Margin="137,197,6,38" FontSize="10" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FF777777"/>
                <Image Source="Images/icons/_insert_link_90461_negate.png" Margin="5,85,173,0" Height="20" VerticalAlignment="Top"/>
                <Image Source="Images/icons/rename_regular_icon_204256_negate.png" Margin="5,50,173,0" Height="20" VerticalAlignment="Top"/>
                <Image Source="Images/icons/insert_row_icon_216821_negate.png" Margin="5,161,173,0" Height="20" VerticalAlignment="Top"/>
                <Image Source="Images/icons/cut_120004_negate.png" Margin="5,196,173,0" Height="20" VerticalAlignment="Top"/>
                <Label Content="Файлы" Margin="0,1,0,0" FontSize="18" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FFBDBDBD" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Height="33" VerticalAlignment="Top"/>
                <Label Content="CTRL + Del" Margin="129,231,6,3" FontSize="10" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FF777777"/>
                <Image Source="Images/titlebar/close.png" Margin="5,230,173,0" Height="20" VerticalAlignment="Top"/>
            </Grid>
        </Border >


        <Border x:Name="ContextMenuCustomFolders"
        Tag="ContextMenu"
        Width="200"
        Height="335"
        Background="#FF222222"
        BorderBrush="#FF4B4B4B"
        BorderThickness="1"
        CornerRadius="12"
        RenderTransformOrigin="0,0"
        HorizontalAlignment="Left"
        VerticalAlignment="Top"
        Margin="0" Visibility="Hidden">
            <Border.Effect>
                <DropShadowEffect BlurRadius="30" Opacity="0.3" ShadowDepth="5" RenderingBias="Quality"/>
            </Border.Effect>

            <Border.RenderTransform>
                <TranslateTransform x:Name="ContextMenuFoldersTransform" />
            </Border.RenderTransform>

            <Grid>
                <Button Tag="ContextButton" x:Name="CopyFolderButton" Content="Копировать" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,121,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="CopyFolderButton_Click"/>
                <Button Tag="ContextButton" x:Name="PasteFolderButton" Content="Вставить" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,156,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="PasteFolderButton_Click"/>
                <Button Tag="ContextButton" x:Name="CutFolderButton" Content="Вырезать" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,191,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="CutFolderButton_Click"/>

                <Rectangle Margin="10,115,10,0" Fill="#FF333232" Height="1" VerticalAlignment="Top"></Rectangle>

                <Button Tag="ContextButton" x:Name="RenameFolderButton" Content="Переименовать" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,266,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="RenameFolderButton_Click"/>
                <Button Tag="ContextButton" x:Name="CopyPathFolderButton" Content="Скопировать путь" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,300,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="CopyPathButton_Click"/>
                <Button Tag="ContextButton" x:Name="DeleteFolderButton" Content="Удалить" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,225,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="DeleteFolderButton_Click"/>

                <Button Tag="ContextButton" x:Name="CreateFolderButton" Content="Создать папку" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,46,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="CreateFolderButton_Click"/>
                <Button Tag="ContextButton" x:Name="CreateFileButton" Content="Создать файл" Style="{DynamicResource ButtonStyle4}" HorizontalAlignment="Center" Margin="0,80,0,0" VerticalAlignment="Top" Width="188" Height="30" BorderBrush="{x:Null}" Background="Transparent" Foreground="White" FontSize="16" FontFamily="Segoe UI Variable Text Semibold" HorizontalContentAlignment="Left" Padding="28,1,1,1" Click="CreateFileButton_Click"/>


                <Rectangle Margin="10,39,10,0" Fill="#FF333232" Height="1" VerticalAlignment="Top"/>

                <Label Content="CTRL + C" Margin="137,127,6,107" FontSize="10" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FF777777"></Label>

                <Image Source="Images/icons/files_icon_184974_negate.png" Margin="5,126,173,0" Height="20" VerticalAlignment="Top"></Image>
                <Label Content="CTRL + V" Margin="137,162,6,73" FontSize="10" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FF777777"/>
                <Label Content="CTRL + X" Margin="137,197,6,38" FontSize="10" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FF777777"/>
                <Image Source="Images/icons/_insert_link_90461_negate.png" Margin="5,306,173,0" Height="20" VerticalAlignment="Top"/>
                <Image Source="Images/icons/rename_regular_icon_204256_negate.png" Margin="5,270,173,0" Height="20" VerticalAlignment="Top"/>
                <Image Source="Images/icons/insert_row_icon_216821_negate.png" Margin="5,161,173,0" Height="20" VerticalAlignment="Top"/>
                <Image Source="Images/icons/cut_120004_negate.png" Margin="5,196,173,0" Height="20" VerticalAlignment="Top"/>
                <Label Content="Папки" Margin="0,1,0,0" FontSize="18" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FFBDBDBD" HorizontalContentAlignment="Center" VerticalContentAlignment="Center" Height="33" VerticalAlignment="Top"/>
                <Label Content="CTRL + Del" Margin="129,231,6,3" FontSize="10" FontFamily="Segoe UI Variable Text Semibold" Foreground="#FF777777"/>
                <Image Source="Images/titlebar/close.png" Margin="5,230,173,0" Height="20" VerticalAlignment="Top"/>
                <Rectangle Margin="10,260,10,0" Fill="#FF333232" Height="1" VerticalAlignment="Top"/>
                <Image Source="Images/icons/create_icon_246449_negate.png" Margin="5,87,173,0" Height="20" VerticalAlignment="Top"/>
                <Image Source="Images/icons/folder_negate.png" Margin="5,51,173,0" Height="20" VerticalAlignment="Top"/>
            </Grid>
        </Border >
    </Grid>
</Window>

